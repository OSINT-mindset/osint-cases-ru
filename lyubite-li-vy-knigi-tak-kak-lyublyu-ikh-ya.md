---
description: '@osint_mindset Статья - X, редактор - Akvagon | September 16, 2023'
---

# Любите ли Вы книги так, как люблю их я?

Любите ли Вы книги так, как люблю их я? Странный вопрос не так ли, но не для этого GEOINT-a. С учётом того, что данный райтап на таск написан для широкой публики, часть которой только начинают погружаться в "[наш мир](https://t.me/osint\_mindset)", буду писать максимально доступно, а также делать сноски. Ну что, погнали!

_GEOINT, или геопространственная разведка – это процесс использования и анализа изображений, геопространственной информации для описания, оценки и визуального отображения физических особенностей и установления географической привязки деятельности на Земле._

Как многие уже успели заметить, частично наш GEOINT будет связан с книгами, а вот и задание:

<figure><img src="https://telegra.ph/file/8bc6a3b0195e4f802e87d.png" alt=""><figcaption><p>Определите координаты места съемки с точностью 10 метров.<br></p></figcaption></figure>

И так, что мы видим? Какой-то книжный магазин, или библиотеку, а возможно и нечто другое, что за решетки, странная дверь как-будто без замка? Однако, как не крути первое, что бросается в глаза - это книги. Проанализировав названия книг, приходим к следующему умозаключению:

> На витрине четко видны две книги: "Animais da savana" из серии Vida Selvagem и "Grande História Universal - 3 volumes - Bloch Editores" Язык португальский, так что это, скорее всего это Португалия.

<figure><img src="https://telegra.ph/file/9ed004af5280af1dcbbdf.jpg" alt=""><figcaption><p>Книги на витрине</p></figcaption></figure>

Как всегда каждая версия должна чем-то подтверждаться, почему Португалия? Возможно Латинская Америка, Бразилия, Макао, Ангола, ведь там тоже говорят на португальском, а значит версия подкреплена слабо.

Пока мы рассуждаем о том, где встречается португальский язык, появляется вторая версия:

> Возможно это вспомогательная лавка для учреждения, которое продвигает себя с помощью книг? На это указывает стилистическая однообразность и малое количество уникальных серий. Организация, объединяющая паблишеров (а то и один и тот же паблишер), возможно будет ключом к ответу. Более того витрина скучно выглядит, никак не притягивает покупателей.

Версия не плоха, однако так требует подкрепления фактами, которых пока нет. Естественно, пока одни осуществляют поиск по местности, другие просматривают результаты выдачи Google, Яндекс и других известных поисковиков. Более того, мы провели анализ одного из изданий и узнали, что книга продается физическим лицом.

<figure><img src="https://telegra.ph/file/cc2f24f4cbd3a4fd95f97.png" alt=""><figcaption><p>Результат выдачи Google</p></figcaption></figure>

Далее, в нашем расследовании взгляд упал на подводку и ступеньки, возле двери. Ведь если присмотреться, то подводка, да и трубы очень схожи с Лиссабоном, а также появилось предположение, что улица спускается, так как видны ступеньки.

<figure><img src="https://telegra.ph/file/11f5ac412b812df4c52c8.jpg" alt=""><figcaption><p>Подводка и ступеньки</p></figcaption></figure>

Все очень напоминает Лиссабон, однако пока это лишь предположения, а значит нужно "рыть" дальше.

Следующая деталь на которую был обращен взор - это то, что судя по тени подоконника и на балконах в отражающемся здании, солнце высоко. У нас теневая сторона, скорее всего, окна выходят на северо-запад, север, северо-восток.

Данную версию легко проверить с использованием инструмента [suncalc](http://suncalc.net/#/38.7189,-9.1558,7/2023.09.16/00:06), нужно лишь выставить флажок на интересующую точку, выбрав примерную дату и время.

<figure><img src="https://telegra.ph/file/a4b8b653d36f1a88a1f45.png" alt=""><figcaption><p>Визуализация с использованием suncalc</p></figcaption></figure>

_SunCalc показывает на карте для выбранного места и даты траекторию движения солнца и фазы освещённости в течении суток._

Неплохо, версия с отражающимся солнцем может навести на мысль и в будущем помочь нам в решении, а теперь немного порассуждаем:

> Общие соображения такие - если это букинист в Лиссабоне - то должен быть в центре, и судя по "ступенькам" и плитке - в старом/центральном районе.

> Также цифры номера дома - "бродя" по улицам у них несколько типов номеров - либо белое на синем "стандартные", либо золотистые, таких как на фото - немного, они должны быть в более "современном" районе центра особенно если учесть что в витрине отражается здание 50-60х (примерно) годов с уже современными балконами а-ля кробузье или чуть раньше. Улица "крутая" - то есть конечно можно посмотреть топологию центра города и посмотреть где вероятнее всего могут быть улицы с таким уклоном, опять же - это может быть не "front door" букиниста.

Так, а теперь самое время использовать один из самых популярных инструментов в GEOINT - [geolocation estimation](https://labs.tib.eu/geoestimation/), который отправляет нас прямиком в Лиссабон, что опять же косвенно подтверждает наши догадки.

<figure><img src="https://telegra.ph/file/b3d53c67e8f4d6905df0e.jpg" alt=""><figcaption><p>Результат поиска в geolocation estimation</p></figcaption></figure>

_Geolocation Estimation — нейросеть, которая предполагает, где сделан снимок или видео: континент, страну, регион._

Более того, погуляв по Лиссабону с использованием [Google карт](https://www.google.com/maps/place/%D0%9B%D0%B8%D1%81%D1%81%D0%B0%D0%B1%D0%BE%D0%BD,+%D0%9F%D0%BE%D1%80%D1%82%D1%83%D0%B3%D0%B0%D0%BB%D0%B8%D1%8F/@38.7440504,-9.2423081,12z/data=!3m1!4b1!4m6!3m5!1s0xd19331a61e4f33b:0x400ebbde49036d0!8m2!3d38.7222524!4d-9.1393366!16zL20vMDRsbGI?entry=ttu) мы видим очень схожую архитектуру.

Такие дома из старых книг в Бразилии называются сальными, а в Португалии "alfarrabista", стены на фото, кажется, более распространены в Португалии, но в Бразилии также есть дома и здания с такими стенами. Все-таки мы еще между двух огней Бразилия или Португалия?

<figure><img src="https://telegra.ph/file/9448c5422455d4f1fda81.jpg" alt=""><figcaption><p>Прогулка с использованием Google карт</p></figcaption></figure>

Конечно можно было бы поискать еще плитку, либо бордюрный камень с помощью [geohints](https://geohints.com/), однако до этого мы не дошли, так как уже знаем ответ и готовы расписать решение.

<figure><img src="https://telegra.ph/file/1a28e8c06b437ae4f8d97.png" alt=""><figcaption><p>Визуализация веб-сайта geohints</p></figcaption></figure>

[_Geohints_](https://geohints.com/) _- это веб-сайт с визуальной базой данных огромного количества индивидуальных, для каждой страны, вещей как светофоры, номера домов, почтовых ящиков, бордюров и многого другого._

**Ответ: 38.718730439704196, -9.161038642596276**

А теперь к решению:

При первом просмотре фото, можно точно сказать о двух вещах:

> Книги на витрине, написаны на португальском(европейской версии).

> Номер дома - 23.

Давайте попробуем закинуть фотографию в [geolocation estimation](https://labs.tib.eu/geoestimation/):

<figure><img src="https://telegra.ph/file/ecd7d8fe1f03e4b16843b.png" alt=""><figcaption><p>Результат поиска в geolocation estimation</p></figcaption></figure>

Он упорно настаивает на том что это Лиссабон, Португалия. После просмотра города на [Google картах](https://www.google.com/maps/place/%D0%9B%D0%B8%D1%81%D1%81%D0%B0%D0%B1%D0%BE%D0%BD,+%D0%9F%D0%BE%D1%80%D1%82%D1%83%D0%B3%D0%B0%D0%BB%D0%B8%D1%8F/@38.7440504,-9.2423081,12z/data=!3m1!4b1!4m6!3m5!1s0xd19331a61e4f33b:0x400ebbde49036d0!8m2!3d38.7222524!4d-9.1393366!16zL20vMDRsbGI?entry=ttu), было найдено много схожих деталей:

> Фасад зданий, рамы, двери, в том числе и решетка в отражении окна с нашей фотографии:

<figure><img src="https://telegra.ph/file/d3aa207cc1520e78c6dbb.png" alt=""><figcaption><p>Результаты поиска с использованием Google карт</p></figcaption></figure>

<figure><img src="https://telegra.ph/file/14017479eb7e925540086.png" alt=""><figcaption><p>Результаты поиска с использованием Google карт 38.7294524,-9.136128</p></figcaption></figure>

Также на нашей фотке можно заметить брусчатку:

<figure><img src="https://telegra.ph/file/444ecefe9a3cca58ca711.png" alt=""><figcaption><p>Калсада португеза</p></figcaption></figure>

Она характерна для всех [Португальских городов](https://mylisbon.ru/calcada.html) и сложно найти место, где ее нет.

<figure><img src="https://telegra.ph/file/8d809cd1b167f87e9d848.png" alt=""><figcaption><p>Португальская плитка</p></figcaption></figure>

Перепробовав множество вариантов поиска: запросы в [overpass](https://overpass-turbo.eu/), поиск по сайтам с книжными магазинами, поиск отдельных букинистов в Португалии - все это не дало результатов и тогда было принято решение написать свою [программу для формирования и перебора адресов](https://pastebin.com/D4NWdzfJ).

<figure><img src="https://telegra.ph/file/db7da56ce0532b9d0bc7f.png" alt=""><figcaption><p>Использование инструмента overpass, на карте указаны все дома с номером 23 в Лиссабоне</p></figcaption></figure>

_Overpass turbo - это веб-инструмент анализа и извлечения данных для OpenStreetMap. Находится по ссылке http://overpass-turbo.eu. Он работает через запросы Overpass API и показывает результаты на интерактивной карте._

**А теперь, пишем код!**

Принцип работы программы в первом режиме:

У нас есть список всех улиц Лиссабона его можно получить запросом в [overpassturbo](http://overpass-turbo.eu/):

> _\[out:csv(name, "::", "utf-8")];_

> _area\["name"="Lisboa"]->.a;_

> _(_

> &#x20;_way(area.a)\["highway"="residential"];_

> &#x20;_way(area.a)\["highway"="unclassified"];_

> &#x20;_way(area.a)\["highway"="tertiary"];_

> &#x20;_way(area.a)\["highway"="secondary"];_

> &#x20;_way(area.a)\["highway"="primary"];_

> &#x20;_way(area.a)\["highway"="trunk"];_

> &#x20;_way(area.a)\["highway"="motorway"];_

> _);_

> _out body;_

> _>;_

Да, их будет много и они будут повторяться, но в программе мы эту проблему решим и получим 1459 уникальных улиц.

<figure><img src="https://telegra.ph/file/c5baaa9dc0d242f1ccd80.png" alt=""><figcaption><p>1459 записей</p></figcaption></figure>

Из этих улиц мы формируем ссылки/запросы в Google карты и сохраняем их в отдельном файле:

<figure><img src="https://telegra.ph/file/a3fdfeeb264927ea8e31b.png" alt=""><figcaption><p>Сохранение файлов</p></figcaption></figure>

Далее программа пробегается по ссылкам из файла и переходит по ним, парсит картинку(миниатюру):

<figure><img src="https://telegra.ph/file/70c55051fba21e4a54264.png" alt=""><figcaption><p>миниатюра/превью</p></figcaption></figure>

Сохраняет ее в отдельный каталог (каждая картинка соответствует названию улицы), где мы можем с легкостью их все просмотреть.

Выглядит это примерно так:

<figure><img src="https://telegra.ph/file/8963a3706df2e47bd5e22.png" alt=""><figcaption><p>Вид выдачи</p></figcaption></figure>

Нам повезло, потому что нужная картинка была 356 по счету.

Есть еще один вариант работы программы, просто открывать группу из ссылок в браузере и так просматривать, пока не найдешь нужный адрес.

Как Вы могли заметить, GEOINT не так уж прост, но очень интересен и затягивает. Мы показали Вам часть нашего мира и будем рады видеть каждого на нашем [**форуме расследований**](https://t.me/+GMxoDCvLO0k0MWRi).
